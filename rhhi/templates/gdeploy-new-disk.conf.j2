#gdeploy configuration generated by cockpit-gluster plugin
[hosts]
rhhi1-gluster.rnelson-demo.com
rhhi2-gluster.rnelson-demo.com
rhhi3-gluster.rnelson-demo.com

[script1:rhhi1-gluster.rnelson-demo.com]
action=execute
ignore_script_errors=no
file=/usr/share/gdeploy/scripts/grafton-sanity-check.sh -d sda4,sda5,nvme0n1 -h rhhi1-gluster.rnelson-demo.com, rhhi2-gluster.rnelson-demo.com, rhhi3-gluster.rnelson-demo.com

[script1:rhhi2-gluster.rnelson-demo.com]
action=execute
ignore_script_errors=no
file=/usr/share/gdeploy/scripts/grafton-sanity-check.sh -d sda4,sda5,nvme0n1 -h rhhi1-gluster.rnelson-demo.com, rhhi2-gluster.rnelson-demo.com, rhhi3-gluster.rnelson-demo.com

[script1:rhhi3-gluster.rnelson-demo.com]
action=execute
ignore_script_errors=no
file=/usr/share/gdeploy/scripts/grafton-sanity-check.sh -d sda4,sda5,nvme0n1 -h rhhi1-gluster.rnelson-demo.com, rhhi2-gluster.rnelson-demo.com, rhhi3-gluster.rnelson-demo.com

[disktype]
jbod

[diskcount]
1

[stripesize]
256

[service1]
action=enable
service=chronyd

[service2]
action=restart
service=chronyd

[shell2]
action=execute
command=vdsm-tool configure --force

[script3]
action=execute
file=/usr/share/gdeploy/scripts/blacklist_all_disks.sh
ignore_script_errors=no

[pv1:rhhi1-gluster.rnelson-demo.com]
action=create
devices=sda4
ignore_pv_errors=no

[pv2:rhhi1-gluster.rnelson-demo.com]
action=create
devices=sda5
ignore_pv_errors=no

[pv3:rhhi1-gluster.rnelson-demo.com]
action=create
devices=nvme0n1
ignore_pv_errors=no

[pv1:rhhi2-gluster.rnelson-demo.com]
action=create
devices=sda4
ignore_pv_errors=no

[pv2:rhhi2-gluster.rnelson-demo.com]
action=create
devices=sda5
ignore_pv_errors=no

[pv3:rhhi2-gluster.rnelson-demo.com]
action=create
devices=nvme0n1
ignore_pv_errors=no

[pv1:rhhi3-gluster.rnelson-demo.com]
action=create
devices=sda4
ignore_pv_errors=no

[pv2:rhhi3-gluster.rnelson-demo.com]
action=create
devices=sda5
ignore_pv_errors=no

[pv3:rhhi3-gluster.rnelson-demo.com]
action=create
devices=nvme0n1
ignore_pv_errors=no

[vg1:rhhi1-gluster.rnelson-demo.com]
action=create
vgname=gluster_vg_sda4
pvname=sda4
ignore_vg_errors=no

[vg2:rhhi1-gluster.rnelson-demo.com]
action=create
vgname=gluster_vg_sda5
pvname=sda5
ignore_vg_errors=no

[vg3:rhhi1-gluster.rnelson-demo.com]
action=create
vgname=gluster_vg_nvme0n1
pvname=nvme0n1
ignore_vg_errors=no

[vg1:rhhi2-gluster.rnelson-demo.com]
action=create
vgname=gluster_vg_sda4
pvname=sda4
ignore_vg_errors=no

[vg2:rhhi2-gluster.rnelson-demo.com]
action=create
vgname=gluster_vg_sda5
pvname=sda5
ignore_vg_errors=no

[vg3:rhhi2-gluster.rnelson-demo.com]
action=create
vgname=gluster_vg_nvme0n1
pvname=nvme0n1
ignore_vg_errors=no

[vg1:rhhi3-gluster.rnelson-demo.com]
action=create
vgname=gluster_vg_sda4
pvname=sda4
ignore_vg_errors=no

[vg2:rhhi3-gluster.rnelson-demo.com]
action=create
vgname=gluster_vg_sda5
pvname=sda5
ignore_vg_errors=no

[vg3:rhhi3-gluster.rnelson-demo.com]
action=create
vgname=gluster_vg_nvme0n1
pvname=nvme0n1
ignore_vg_errors=no

[lv1:rhhi1-gluster.rnelson-demo.com]
action=create
poolname=gluster_thinpool_sda5
ignore_lv_errors=no
vgname=gluster_vg_sda5
lvtype=thinpool
size=335GB
poolmetadatasize=2GB

[lv2:rhhi1-gluster.rnelson-demo.com]
action=create
poolname=gluster_thinpool_nvme0n1
ignore_lv_errors=no
vgname=gluster_vg_nvme0n1
lvtype=thinpool
size=225GB
poolmetadatasize=2GB

[lv3:rhhi2-gluster.rnelson-demo.com]
action=create
poolname=gluster_thinpool_sda5
ignore_lv_errors=no
vgname=gluster_vg_sda5
lvtype=thinpool
size=335GB
poolmetadatasize=2GB

[lv4:rhhi2-gluster.rnelson-demo.com]
action=create
poolname=gluster_thinpool_nvme0n1
ignore_lv_errors=no
vgname=gluster_vg_nvme0n1
lvtype=thinpool
size=225GB
poolmetadatasize=2GB

[lv5:rhhi3-gluster.rnelson-demo.com]
action=create
poolname=gluster_thinpool_sda5
ignore_lv_errors=no
vgname=gluster_vg_sda5
lvtype=thinpool
size=335GB
poolmetadatasize=2GB

[lv6:rhhi3-gluster.rnelson-demo.com]
action=create
poolname=gluster_thinpool_nvme0n1
ignore_lv_errors=no
vgname=gluster_vg_nvme0n1
lvtype=thinpool
size=225GB
poolmetadatasize=2GB

[lv7:rhhi1-gluster.rnelson-demo.com]
action=create
lvname=gluster_lv_engine
ignore_lv_errors=no
vgname=gluster_vg_sda4
mount=/gluster_bricks/engine
size=69GB
lvtype=thick

[lv8:rhhi1-gluster.rnelson-demo.com]
action=create
lvname=gluster_lv_ssdvmstore
ignore_lv_errors=no
vgname=gluster_vg_sda5
mount=/gluster_bricks/ssdvmstore
lvtype=thinlv
poolname=gluster_thinpool_sda5
virtualsize=335GB

[lv9:rhhi1-gluster.rnelson-demo.com]
action=create
lvname=gluster_lv_nvmevmstore
ignore_lv_errors=no
vgname=gluster_vg_nvme0n1
mount=/gluster_bricks/nvmevmstore
lvtype=thinlv
poolname=gluster_thinpool_nvme0n1
virtualsize=225GB

[lv10:rhhi2-gluster.rnelson-demo.com]
action=create
lvname=gluster_lv_engine
ignore_lv_errors=no
vgname=gluster_vg_sda4
mount=/gluster_bricks/engine
size=69GB
lvtype=thick

[lv11:rhhi2-gluster.rnelson-demo.com]
action=create
lvname=gluster_lv_ssdvmstore
ignore_lv_errors=no
vgname=gluster_vg_sda5
mount=/gluster_bricks/ssdvmstore
lvtype=thinlv
poolname=gluster_thinpool_sda5
virtualsize=335GB

[lv12:rhhi2-gluster.rnelson-demo.com]
action=create
lvname=gluster_lv_nvmevmstore
ignore_lv_errors=no
vgname=gluster_vg_nvme0n1
mount=/gluster_bricks/nvmevmstore
lvtype=thinlv
poolname=gluster_thinpool_nvme0n1
virtualsize=225GB

[lv13:rhhi3-gluster.rnelson-demo.com]
action=create
lvname=gluster_lv_engine
ignore_lv_errors=no
vgname=gluster_vg_sda4
mount=/gluster_bricks/engine
size=69GB
lvtype=thick

[lv14:rhhi3-gluster.rnelson-demo.com]
action=create
lvname=gluster_lv_ssdvmstore
ignore_lv_errors=no
vgname=gluster_vg_sda5
mount=/gluster_bricks/ssdvmstore
lvtype=thinlv
poolname=gluster_thinpool_sda5
virtualsize=335GB

[lv15:rhhi3-gluster.rnelson-demo.com]
action=create
lvname=gluster_lv_nvmevmstore
ignore_lv_errors=no
vgname=gluster_vg_nvme0n1
mount=/gluster_bricks/nvmevmstore
lvtype=thinlv
poolname=gluster_thinpool_nvme0n1
virtualsize=225GB

[selinux]
yes

[service3]
action=restart
service=glusterd
slice_setup=yes

[firewalld]
action=add
ports=111/tcp,2049/tcp,54321/tcp,5900/tcp,5900-6923/tcp,5666/tcp,16514/tcp,54322/tcp
services=glusterfs

[script2]
action=execute
file=/usr/share/gdeploy/scripts/disable-gluster-hooks.sh

[shell3]
action=execute
command=usermod -a -G gluster qemu

[volume1]
action=create
volname=engine
transport=tcp
replica=yes
replica_count=3
key=group,storage.owner-uid,storage.owner-gid,network.ping-timeout,performance.strict-o-direct,network.remote-dio,cluster.granular-entry-heal
value=virt,36,36,30,on,off,enable
brick_dirs=rhhi1-gluster.rnelson-demo.com:/gluster_bricks/engine/engine,rhhi2-gluster.rnelson-demo.com:/gluster_bricks/engine/engine,rhhi3-gluster.rnelson-demo.com:/gluster_bricks/engine/engine
ignore_volume_errors=no

[volume2]
action=create
volname=ssdvmstore
transport=tcp
replica=yes
replica_count=3
key=group,storage.owner-uid,storage.owner-gid,network.ping-timeout,performance.strict-o-direct,network.remote-dio,cluster.granular-entry-heal
value=virt,36,36,30,on,off,enable
brick_dirs=rhhi1-gluster.rnelson-demo.com:/gluster_bricks/ssdvmstore/ssdvmstore,rhhi2-gluster.rnelson-demo.com:/gluster_bricks/ssdvmstore/ssdvmstore,rhhi3-gluster.rnelson-demo.com:/gluster_bricks/ssdvmstore/ssdvmstore
ignore_volume_errors=no

[volume3]
action=create
volname=nvmevmstore
transport=tcp
replica=yes
replica_count=3
key=group,storage.owner-uid,storage.owner-gid,network.ping-timeout,performance.strict-o-direct,network.remote-dio,cluster.granular-entry-heal
value=virt,36,36,30,on,off,enable
brick_dirs=rhhi1-gluster.rnelson-demo.com:/gluster_bricks/nvmevmstore/nvmevmstore,rhhi2-gluster.rnelson-demo.com:/gluster_bricks/nvmevmstore/nvmevmstore,rhhi3-gluster.rnelson-demo.com:/gluster_bricks/nvmevmstore/nvmevmstore
ignore_volume_errors=no
